javascript:(()%3D%3E%7Bfunction%20downloadString(t%2Co)%7Bvar%20e%3Ddocument.createElement(%22a%22)%3Be.setAttribute(%22href%22%2C%22data%3Atext%2Fplain%3Bcharset%3Dutf-8%2C%22%2BencodeURIComponent(o))%2Ce.setAttribute(%22download%22%2Ct)%2Ce.style.display%3D%22none%22%2Cdocument.body.appendChild(e)%2Ce.click()%2Cdocument.body.removeChild(e)%7Dfunction%20errCheck(t)%7Breturn-1%3D%3D%3Dwindow.location.hostname.indexOf(%22trailforks%22)%3F(window.alert(%22It%20looks%20like%20you're%20not%20on%20a%20Trailforks.com%20page%22)%2C!1)%3A-1%3D%3D%3Dwindow.location.pathname.indexOf(%22trails%22)%26%26-1%3D%3D%3Dwindow.location.pathname.indexOf(%22route%22)%3F(window.alert(%22It%20looks%20like%20you're%20on%20Trailforks.com%2C%20but%20not%20looking%20at%20a%20route%20or%20trail%20page.%22)%2C!1)%3A-1!%3D%3Dt.indexOf(%22encodedpath%22)%7C%7C(confirm(%22Can't%20find%20a%20map%20on%20this%20Trailforks%20page.%20Press%20OK%20to%20go%20to%20the%20page%20where%20we%20think%20the%20map%20lives.%5Cn%5CnYou'll%20need%20to%20click%20the%20bookmarklet%20again%20after%20that%20page%20loads%20to%20export.%22)%3F(window.location.href%3D%22https%3A%2F%2F%22%2Bdocument.location.hostname%2Bdocument.location.pathname%2B%22map%2F%22%2C!1)%3Avoid%200)%7Dlet%20pageString%3Ddocument.getElementsByTagName(%22html%22)%5B0%5D.innerHTML%3Bif(errCheck(pageString))%7Blet%20t%3Ddocument.title%2Co%3Dt.split(%22%7C%22)%5B0%5D.trim()%2Ce%3D%22https%3A%2F%2F%22%2Bwindow.location.hostname%2Bwindow.location.pathname%2Cn%3Dwindow.location.pathname.split(%22%2F%22)%5B2%5D%2Ca%3DpageString.match(%2Fencodedpath%3A%5Cs%3F'(.*%3F)'%2F)%5B1%5D.replaceAll(%22%5C%5C%5C%5C%22%2C%22%255C%22)%2Ci%3Dpolyline.decode(a)%2Cr%3D%22%22%3Bfor(let%20t%20of%20i)r%2B%3D'%5Cn%5Ct%5Ct%5Ct%3Ctrkpt%20lat%3D%22'%2Bt%5B0%5D%2B'%22%20lon%3D%22'%2Bt%5B1%5D%2B'%22%2F%3E'%3BdownloadString(n%2B%22.gpx%22%2C'%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%5Cn%3Cgpx%20xmlns%3Axsi%3D%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%22%20xsi%3AschemaLocation%3D%22http%3A%2F%2Fwww.topografix.com%2FGPX%2F1%2F1%20http%3A%2F%2Fwww.topografix.com%2FGPX%2F1%2F1%2Fgpx.xsd%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.topografix.com%2FGPX%2F1%2F1%22%20creator%3D%22https%3A%2F%2Fcosmocatalano.com%22%3E'%2B('%5Cn%5Ct%3Cmetadata%3E%5Cn%5Ct%5Ct%3Clink%20href%3D%22'%2Be%2B'%22%3E%5Cn%5Ct%5Ct%5Ct%3Ctext%3E'%2Bt%2B%22%3C%2Ftext%3E%5Cn%5Ct%5Ct%3C%2Flink%3E%5Cn%5Ct%3C%2Fmetadata%3E%5Cn%5Ct%3Ctrk%3E%5Cn%5Ct%5Ct%3Cname%3E%22%2Bo%2B%22%3C%2Fname%3E%5Cn%5Ct%5Ct%3Ctrkseg%3E%22)%2Br%2B%22%5Cn%5Ct%5Ct%3C%2Ftrkseg%3E%5Cn%5Ct%3C%2Ftrk%3E%5Cn%3C%2Fgpx%3E%22)%7D%7D)()%3B